# DeepFin

> New way to tokenize post dated payments and unlock huge amount of money locked in large supply chains! ðŸš€

# Motivation
  SMEs all around the world are facing cashflow/financing problems due to lack of credit history, small loan sizes. But any company works with companies who are willing to accept payments after 60-120 days from the date of supply. So these SMEs have to work with loan sharks for their financing needs. Invoice discounting is a way to solve this problem for SMEs working directly with large, well-known companies whose invoices banks accept, but not for companies who are deep in the supply chain (i.e. supplying to the company which is working with large company). Because of this large amount of money is locked in such supply chains due to which them SMEs have to face issues. More than millions of dollars are locked in these supply chain which can be used to generate higher yield for depositors and helping MSMEs all around the world. 

# Solution
  We are building a decentralized pool-based structure leveraging AAVE for deep tier financing. Lenders provide liquidity by depositing stable coins in a pool contract. Borrowers are small and medium businesses who have access to very costly financing only. Incase these SMEs are in the supply chain of a top company (anchor) then the invoice of the company to the first supplier can be used to mint tokens. These tokens can then be passed along the supply chain representing future dated payment on a specific day. By submitting these tokens as collateral to the pool they can borrow money.

# Architechture:

![image](https://user-images.githubusercontent.com/2653167/124158108-c14ca380-da56-11eb-967e-69cde37ca8eb.png)

### The Lending Pool Contract
The lending pool contract is a combination of Superfluid super app to manage streaming of interest and AAVE credit delegation contract for taking deposits and delegating credit on Aave.	

### Interest Rate Strategy
1.	Interest rate strategy would be similar to AAVE to keep the utilization optimal (80-90%). 
1.	For borrowers the base rate would be based on the credit rating and past repayments of anchor. This rate would be fixed for the term of loan. 
1.	For depositors the rate which they get would be based on the total interest income generated by the pool equally divided into the depositors

### Financing Request Manager
1.	The protocol implements the multi-sign strategy for verification of invoice and agreement between protocol and anchor of repayment on specific amount on a specific date.
1.	An organization which has a payable by an accepted anchor can submit their invoice for token minting
1.	This request goes to anchorâ€™s dashboard, where they have the option of accepting or rejecting it.

### Tokenization
1.	The protocol implements tokenization strategy for invoices. 
1.	If the invoice is accepted, an ERC1155 tokens representing the future cashflow by anchor are minted and sent to the requesting organizationâ€™s wallet. These tokens also contain the details of the agreement in token meta data.
1.	On repayment the protocol changes the repaid flag on the token from false to true

### Cashflow Token
1.	Each new accepted invoice leads to minting of a new cashflow token
1.	Each cashflow token can be replaced with stable coins, using redeem functionality which will work once the repaid flag is set true.
1.	It also contains the following details
  1.	Public details of the agreement
    1.	Payment date
    1.	Amount
    1.	Repaid
    1.	Anchor
  1.	Link to the agreement between anchor and protocol
  1.	Link to the actual invoice


# Sponsor Usage 

# Superfluid
  Used to stream interest to users who deposit assests to the pools
  
# Filecoin
  Used to store invoice document to Slate 
  
# Chainlink
  Used for getting price feed for eth/usd to interconvert between two prices when submitting the invoice
  
# Portis
  Used to make the process of interacting with contract easier for SMEs

# Consensys
  Metamask used to create a lending solution
  
# Polygon
  Everything deployed and tested on Polygon Mumbai Testnet

# The Graph
  Used to get the lending rates from corresponding Aave pools onto which tokens are transferred and credit is deligated
